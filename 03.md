# Урок 3. Домашнее задание

- [x] попробуйте расписать стейкхолдеров по группам из урока. Попутно пофантазируете, кого потенциально мы забыли указать в списке стейкхолдеров;

Стейкхолдеры, их группы и консерны здесь: https://miro.com/app/board/uXjVNMqmJhE=/?moveToWidget=3458764572603575811&cot=14

Кажется забыли воркеров, поместил их белым на слайде. И всяческих сотрудников, которые проводят а) сборку расходников для заказов; б) отдел контроля качества (хотя вроде это те же менеджеры).

Клиентов поместил в роль не очень влияющих на систему, т.к. на мой взгляд, если все время слушать клиентов, никогда не получится сделать хороший продукт, ты всегда будешь в "догоняющих" и получится монстр, очень сложный и "универсальный", а потому никому непонятный и ненужный.

- [x] выберите один из семи архитектурных стилей, описанных в уроке. Опишите, почему вы сделали такой выбор и по каким критериям сравнивали стили (можно использовать картинку из урока со сравнением стилей);

Тут же получается везде что-то свое. А если вцелом по системе, то сервисная модель (не плодим БД без необходимости).

Например, для расчетов с клиентами нужно делать модульный монолит, чтобы можно было добавлять новые способы оплаты. Для системы матчинга имеет смысл смотреть в сторону pipeline, т.к. там возникло новое требование [US-300] про map-reduce алгоритма, и оно хорошо туда ложится.

Остальные запчасти мололиты, потому что быстро и дешево.


- [x] выберите нужный вид баз данных для каждого из полученных сервисов.

Т.к. у меня одна БД, а отделу финансистов нужна надежность хранения данных, выбираем классику: реляционная БД.


- [x] выберите нужный стиль коммуникаций и их вид (синхронный/асинхронный). Опишите, почему вы сделали такой выбор и какие критерии использовали для выбора;

Выбираю синхронное взаимодействие: да, нужно будет больше ресурсов чтобы ее поддерживать, но зато меньше проблем в разработке и собственно говоря поддержке.

А чтобы не "тупила" -- то для процедуры регистрации (где ожидается вероятный DDoS) можно сделать какую-то защиту вроде быстрой БД на запись с последующим неспешным разгребанием этой очереди.

- [x] предположите, какие фитнес-функции можно использовать для валидации итоговой системы. Можете считать, что система будет делаться с использованием любого языка программирования, следовательно, можете выбрать любые инструменты из любой экосистемы;


Кажется для системы сервисов (или микросервисов, раз для подсистемы привлечения воркеров сделали отдельную БД) нужен периодический анализ coupling и cohesion. Но у меня нет опыта такой проверки, тем более что автоматизированной.

Для всей системы:

1. Покрытие тестами не менее 80%
2. Проверка периодичности релиза всей системы не реже 1 раза в месяц. Можно сделать через мониторинг или JIRA.

Для системы регистрации пользователей:

1. Обязательное автоматическое нагрузочное тестирование перед каждым релизом.
2. Метрика scalability -- решить как проверять с админами и разработчиками.

Для системы матчинга воркеров:

1. Проверка периодичности релиза не реже 1 раза в 2 недели.


- [x] сделайте ADR, опишите принятие решения по изоляции одного из элементов как изолированного сервиса.

ADR по выделению сервиса "Матчинг воркеров" [тут](03-adr.md).